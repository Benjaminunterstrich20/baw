<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Benni Airways Flugplan & PDF-Tickets</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f4f8;
      margin: 20px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 30px;
      background: #fff;
    }
    th, td {
      padding: 12px;
      border: 1px solid #ddd;
      text-align: center;
    }
    th {
      background-color: #1e40af;
      color: white;
    }
    tr:hover {
      background-color: #e0e7ff;
    }
    button {
      padding: 6px 12px;
      cursor: pointer;
      background: #1e3a8a;
      color: white;
      border: none;
      border-radius: 4px;
    }
  </style>
</head>
<body>

<h1>Benni Airways Flugplan</h1>
<table>
  <thead>
    <tr>
      <th>Flugnummer</th>
      <th>Zielflughafen</th>
      <th>Landebahn</th>
      <th>Flughöhe</th>
      <th>Flugroute</th>
      <th>Flugdauer</th>
      <th>Ticket</th>
    </tr>
  </thead>
  <tbody id="flugtabelle">
    <tr>
      <td>BW729</td>
      <td>Palma de Mallorca (PMI)</td>
      <td>06R</td>
      <td>10.000 Fuß</td>
      <td>CGN -> PMI</td>
      <td>2 Stunden</td>
      <td><button onclick="generateTicket('BW729','Palma de Mallorca (PMI)','CGN','PMI','2 Stunden')">PDF</button></td>
    </tr>
    <tr>
      <td>BW381</td>
      <td>Berlin (BER)</td>
      <td>25L</td>
      <td>12.000 Fuß</td>
      <td>CGN -> BER</td>
      <td>1 Stunde</td>
      <td><button onclick="generateTicket('BW381','Berlin (BER)','CGN','BER','1 Stunde')">PDF</button></td>
    </tr>
    <!-- Weitere Flüge hier einfügen -->
  </tbody>
</table>

<script>
  async function generateTicket(flugnummer, zielflug, start, ziel, dauer) {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    doc.setFontSize(18);
    doc.text("Benni Airways", 105, 20, null, null, 'center');
    doc.setFontSize(14);
    doc.text(`Flugnummer: ${flugnummer}`, 20, 40);
    doc.text(`Von: ${start}`, 20, 50);
    doc.text(`Nach: ${ziel}`, 20, 60);
    doc.text(`Zielflughafen: ${zielflug}`, 20, 70);
    doc.text(`Flugdauer: ${dauer}`, 20, 80);

    // QR-Code generieren
    const qrDiv = document.createElement('div');
    new QRCode(qrDiv, {
      text: `Flug:${flugnummer} Von:${start} Nach:${ziel} Dauer:${dauer}`,
      width: 100,
      height: 100
    });

    // QR-Code ins PDF einfügen
    await new Promise(resolve => setTimeout(resolve, 100)); // kleine Wartezeit, damit QR-Code rendert
    const qrImg = qrDiv.querySelector('img').src;
    doc.addImage(qrImg, 'PNG', 150, 50, 40, 40);

    doc.save(`${flugnummer}_ticket.pdf`);
  }
</script>

</body>
</html>
